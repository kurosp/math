<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Btoan AI</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/mathjs@12.4.2/lib/browser/math.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/nerdamer@1.1.13/all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/function-plot@1.23.3/dist/function-plot.js"></script>

  <!-- KaTeX for pretty output -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>

  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <div class="app">
    <header class="topbar">
      <a class="brand brand-link" href="https://btoan2802.github.io" aria-label="Mở trang AI">
        <div class="brand-title"><p style="text-align: center;"></p>Btoan AI<p></p></div>
      </a>
      <div class="brand-sub">Tính nhanh • đạo hàm • tích phân • đồ thị</div>
    </header>

    <main class="content">
      <section class="card">
        <label class="sr-only" for="cmd">Nhập lệnh</label>
        <input id="cmd" class="cmd" placeholder="Ví dụ: 1+2 | 2,3+1 | 2x^3+3x^2-12x=0 | -d √x | -p √(x) dx | -g y=2×x+5" />

        <div class="actions">
          <button id="runBtn" class="btn primary">tính</button>
          <button id="toggleBtn" class="btn" disabled>đổi sang thập phân</button>
          <button id="clearBtn" class="btn danger">xóa</button>
        </div>

        <details class="help">
          <summary>
            hướng dẫn nhanh
            <span class="summary-note">bấm để mở</span>
          </summary>

          <div class="help-body">
            <div class="help-grid">
              <div class="help-card">
                <div class="help-title">tính</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="1+2*(3-1)">1+2*(3-1)</button>
                  <button class="chip" type="button" data-example="2,3+1">2,3+1</button>
                  <button class="chip" type="button" data-example="2√2">2√2</button>
                </div>
                <div class="help-note">Dùng dấu <code>,</code> cho thập phân (vd <code>2,5</code>).</div>
              </div>

              <div class="help-card">
                <div class="help-title">trị tuyệt đối</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="|x|">|x|</button>
                  <button class="chip" type="button" data-example="-g y=-|x|">-g y=-|x|</button>
                </div>
              </div>

              <div class="help-card">
                <div class="help-title">đạo hàm</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="-d √x">-d √x</button>
                  <button class="chip" type="button" data-example="-d √(x)+x^2">-d √(x)+x^2</button>
                </div>
              </div>

              <div class="help-card">
                <div class="help-title">nguyên hàm / tích phân</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="-p √(x) dx">-p √(x) dx</button>
                  <button class="chip" type="button" data-example="-p x dx from 0 to 2">-p x dx from 0 to 2</button>
                </div>
              </div>

              
              <div class="help-card">
                <div class="help-title">logarit</div>
                <div class="help-chip-row">
                  <span class="chip">log(10)</span>
                  <span class="chip">log(100)</span>
                  <span class="chip">log2(8)</span>
                  <span class="chip">ln(e)</span>
                  <span class="chip">ln(e^2)</span>
                </div>
                <div class="help-note">log(x) là cơ số 10 • ln(x) là cơ số e • nếu ra số thập phân sẽ giữ nguyên log/ln (bấm “đổi sang thập phân” để xem số)</div>
              </div>

<div class="help-card">
                <div class="help-title">giải phương trình</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="x+1=2">x+1=2</button>
                  <button class="chip" type="button" data-example="2x^3+3x^2-12x=0">2x^3+3x^2-12x=0</button>
                </div>
              </div>

              <div class="help-card">
                <div class="help-title">đồ thị</div>
                <div class="chips">
                  <button class="chip" type="button" data-example="-g y=(x-2)/(x-1)">-g y=(x-2)/(x-1)</button>
                  <button class="chip" type="button" data-example="-g (x^2+y^2-1)*3x^2y^3=0">-g (x^2+y^2-1)*3x^2y^3=0</button>
                </div>
                <div class="help-note">Mẹo: với phương trình ẩn, dùng dạng <code>...=0</code>.</div>
              </div>
            </div>
          </div>
        </details>
      </section>

      <section class="card">
        <div id="out" class="outbox">Nhập lệnh rồi bấm “tính”.</div>
      </section>

      <section class="card">
        <div id="plot" class="plot"></div>
      </section>

      <div class="footer">
        Mẹo nhỏ: nếu muốn xem xấp xỉ, bấm <strong>đổi sang thập phân</strong>.
      </div>
    </main>
  </div>

  <script src="./app_v10.js"></script>
</body>
</html>
