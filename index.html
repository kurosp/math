<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Btoan AI</title>
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <!-- libs -->
  <script src="https://cdn.jsdelivr.net/npm/mathjs@12.4.2/lib/browser/math.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/nerdamer@1.1.13/all.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="https://cdn.jsdelivr.net/npm/function-plot@1.23.3/dist/function-plot.js"></script>

  <!-- KaTeX for pretty output -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css">
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>

  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <h2>Btoan AI <span style="font-size:12px;color:#666;">v10</span></h2>

  <div class="row">
    <input id="cmd" placeholder='Ví dụ: 1+2 | 2,3+1 | 2x^3+3x^2-12x=0 | -d √x | -p √(x) dx | -g y=2×x+5' />
    <button id="runBtn">tính</button>
    <button id="toggleBtn" disabled>đổi sang thập phân</button>
    <button id="clearBtn">xóa</button>
  </div>

  <p class="hint">
    Hỗ trợ nhanh:
    <br>• Tính: <code>1+2*(3-1)</code> | <code>2,3+1</code>
    <br>• Nhân: hỗ trợ <code>*</code>, <code>×</code>, <code>.</code> (ví dụ <code>2×x</code>, <code>2.x</code>, <code>2×2√2</code>, <code>5x</code>)
    <br>• Dấu căn: hỗ trợ cả <code>sqrt(...)</code> và <code>√(...)</code> / <code>√x</code>
    <br>• Trị tuyệt đối: <code>|x|</code> (ví dụ <code>-g y=-|x|</code>)
    <br>• Giải 1 phương trình: <code>x+1=2</code> hoặc <code>2x^3+3x^2-12x=0</code> (bậc 2–4 có thêm cực trị)
    <br>• Giải hệ (tối đa 4 ẩn x,y,z,t): <code>x+y=5; x-y=1</code>
    <br>• Đạo hàm: <code>-d √x</code> | <code>-d √(x)+x^2</code>
    <br>• Nguyên hàm / tích phân: <code>-p √(x) dx</code> | <code>-p x dx from 0 to 2</code>
    <br>• Đồ thị: <code>-g y=(x-2)/(x-1)</code>
  </p>

  <div id="out" class="outbox">Nhập lệnh rồi bấm “tính”.</div>
  <div id="plot"></div>

  <script src="./app_v10.js"></script>
</body>
</html>
